{"version":3,"file":"generators-DoPBikIW.js","names":[],"sources":["../src/generators/createGenerator.ts","../src/generators/createReactGenerator.ts","../src/generators/jsonGenerator.ts"],"sourcesContent":["import type { PluginFactoryOptions } from '@kubb/core'\nimport type { KubbFile } from '@kubb/fabric-core/types'\nimport type { OperationProps, OperationsProps, SchemaProps } from './types.ts'\n\ntype UserGenerator<TOptions extends PluginFactoryOptions> = {\n  name: string\n  operations?: (props: OperationsProps<TOptions>) => Promise<KubbFile.File[]>\n  operation?: (props: OperationProps<TOptions>) => Promise<KubbFile.File[]>\n  schema?: (props: SchemaProps<TOptions>) => Promise<KubbFile.File[]>\n}\n\nexport type CoreGenerator<TOptions extends PluginFactoryOptions> = {\n  name: string\n  type: 'core'\n  operations: (props: OperationsProps<TOptions>) => Promise<KubbFile.File[]>\n  operation: (props: OperationProps<TOptions>) => Promise<KubbFile.File[]>\n  schema: (props: SchemaProps<TOptions>) => Promise<KubbFile.File[]>\n}\n\nexport function createGenerator<TOptions extends PluginFactoryOptions>(generator: UserGenerator<TOptions>): CoreGenerator<TOptions> {\n  return {\n    type: 'core',\n    async operations() {\n      return []\n    },\n    async operation() {\n      return []\n    },\n    async schema() {\n      return []\n    },\n    ...generator,\n  }\n}\n","import type { PluginFactoryOptions } from '@kubb/core'\nimport type { FabricReactNode } from '@kubb/react-fabric/types'\nimport type { OperationProps, OperationsProps, SchemaProps } from './types.ts'\n\ntype UserGenerator<TOptions extends PluginFactoryOptions> = {\n  name: string\n  Operations?: (props: OperationsProps<TOptions>) => FabricReactNode\n  Operation?: (props: OperationProps<TOptions>) => FabricReactNode\n  Schema?: (props: SchemaProps<TOptions>) => FabricReactNode\n}\n\nexport type ReactGenerator<TOptions extends PluginFactoryOptions> = {\n  name: string\n  type: 'react'\n  Operations: (props: OperationsProps<TOptions>) => FabricReactNode\n  Operation: (props: OperationProps<TOptions>) => FabricReactNode\n  Schema: (props: SchemaProps<TOptions>) => FabricReactNode\n}\n\n/****\n * Creates a generator that uses React component functions to generate files for OpenAPI operations and schemas.\n *\n * The returned generator exposes async methods for generating files from operations, a single operation, or a schema, using the corresponding React components if provided. If a component is not defined, the method returns an empty array.\n *\n * @returns A generator object with async methods for operations, operation, and schema file generation.\n */\nexport function createReactGenerator<TOptions extends PluginFactoryOptions>(generator: UserGenerator<TOptions>): ReactGenerator<TOptions> {\n  return {\n    type: 'react',\n    Operations() {\n      return null\n    },\n    Operation() {\n      return null\n    },\n    Schema() {\n      return null\n    },\n    ...generator,\n  }\n}\n","import { camelCase } from '@kubb/core/transformers'\nimport type { PluginOas } from '../types.ts'\nimport { getBanner } from '../utils/getBanner.ts'\nimport { getFooter } from '../utils/getFooter.ts'\nimport { createGenerator } from './createGenerator.ts'\n\nexport const jsonGenerator = createGenerator<PluginOas>({\n  name: 'plugin-oas',\n  async schema({ schema, generator }) {\n    const { pluginManager, plugin } = generator.context\n    const file = pluginManager.getFile({\n      name: camelCase(schema.name),\n      extname: '.json',\n      mode: 'split',\n      pluginKey: plugin.key,\n    })\n\n    return [\n      {\n        ...file,\n        sources: [\n          {\n            name: camelCase(schema.name),\n            isExportable: false,\n            isIndexable: false,\n            value: JSON.stringify(schema.value),\n          },\n        ],\n        banner: getBanner({\n          oas: generator.context.oas,\n          output: plugin.options.output,\n          config: pluginManager.config,\n        }),\n        format: getFooter({ oas: generator.context.oas, output: plugin.options.output }),\n      },\n    ]\n  },\n})\n"],"mappings":";;;;;AAmBA,SAAgB,gBAAuD,WAA6D;AAClI,QAAO;EACL,MAAM;EACN,MAAM,aAAa;AACjB,UAAO,EAAE;;EAEX,MAAM,YAAY;AAChB,UAAO,EAAE;;EAEX,MAAM,SAAS;AACb,UAAO,EAAE;;EAEX,GAAG;EACJ;;;;;;;;;;;;ACNH,SAAgB,qBAA4D,WAA8D;AACxI,QAAO;EACL,MAAM;EACN,aAAa;AACX,UAAO;;EAET,YAAY;AACV,UAAO;;EAET,SAAS;AACP,UAAO;;EAET,GAAG;EACJ;;;;;ACjCH,MAAa,gBAAgB,gBAA2B;CACtD,MAAM;CACN,MAAM,OAAO,EAAE,QAAQ,aAAa;EAClC,MAAM,EAAE,eAAe,WAAW,UAAU;AAQ5C,SAAO,CACL;GACE,GATS,cAAc,QAAQ;IACjC,MAAM,UAAU,OAAO,KAAK;IAC5B,SAAS;IACT,MAAM;IACN,WAAW,OAAO;IACnB,CAAC;GAKE,SAAS,CACP;IACE,MAAM,UAAU,OAAO,KAAK;IAC5B,cAAc;IACd,aAAa;IACb,OAAO,KAAK,UAAU,OAAO,MAAM;IACpC,CACF;GACD,QAAQ,UAAU;IAChB,KAAK,UAAU,QAAQ;IACvB,QAAQ,OAAO,QAAQ;IACvB,QAAQ,cAAc;IACvB,CAAC;GACF,QAAQ,UAAU;IAAE,KAAK,UAAU,QAAQ;IAAK,QAAQ,OAAO,QAAQ;IAAQ,CAAC;GACjF,CACF;;CAEJ,CAAC"}