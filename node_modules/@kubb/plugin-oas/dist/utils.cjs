const require_chunk = require('./chunk-C1_xRkKa.cjs');
const require_getSchemaFactory = require('./getSchemaFactory-CBp1me72.cjs');
const require_getFooter = require('./getFooter-BvLkEWpc.cjs');
let _kubb_core_transformers = require("@kubb/core/transformers");
_kubb_core_transformers = require_chunk.__toESM(_kubb_core_transformers);
let _kubb_core_utils = require("@kubb/core/utils");
let _kubb_oas = require("@kubb/oas");

//#region src/utils/getComments.ts
function getComments(operation) {
	return [
		operation.getDescription() && `@description ${operation.getDescription()}`,
		operation.getSummary() && `@summary ${operation.getSummary()}`,
		operation.path && `{@link ${new _kubb_core_utils.URLPath(operation.path).URL}}`,
		operation.isDeprecated() && "@deprecated"
	].filter(Boolean).map((text) => _kubb_core_transformers.default.trim(text)).filter(Boolean);
}

//#endregion
//#region src/utils/getParams.ts
/**
*
* @deprecated
* TODO move to operationManager hook
*/
function getASTParams(operationSchema, { typed = false, override } = {}) {
	if (!operationSchema || !operationSchema.schema.properties || !operationSchema.name) return [];
	const requiredFields = Array.isArray(operationSchema.schema.required) ? operationSchema.schema.required : [];
	return Object.entries(operationSchema.schema.properties).map(([name]) => {
		const data = {
			name,
			enabled: !!name,
			required: requiredFields.includes(name),
			type: typed ? `${operationSchema.name}["${name}"]` : void 0
		};
		return override ? override(data) : data;
	});
}
function getPathParams(operationSchema, options = {}) {
	return getASTParams(operationSchema, options).reduce((acc, curr) => {
		if (curr.name && curr.enabled) {
			let name = (0, _kubb_core_transformers.isValidVarName)(curr.name) ? curr.name : (0, _kubb_core_transformers.camelCase)(curr.name);
			if (options.casing === "camelcase") name = (0, _kubb_core_transformers.camelCase)(name);
			acc[name] = {
				default: curr.default,
				type: curr.type,
				optional: !curr.required
			};
		}
		return acc;
	}, {});
}

//#endregion
//#region src/utils/getSchemas.ts
/**
* Collect schemas from OpenAPI components (schemas, responses, requestBodies)
* and return them in dependency order along with name mapping for collision resolution.
*
* This function is a wrapper around the oas.getSchemas() method for backward compatibility.
* New code should use oas.getSchemas() directly.
*
* @deprecated Use oas.getSchemas() instead
*/
function getSchemas({ oas, contentType, includes = [
	"schemas",
	"requestBodies",
	"responses"
], collisionDetection }) {
	return oas.getSchemas({
		contentType,
		includes,
		collisionDetection
	});
}

//#endregion
exports.getBanner = require_getFooter.getBanner;
exports.getComments = getComments;
exports.getFooter = require_getFooter.getFooter;
exports.getPathParams = getPathParams;
exports.getSchemaFactory = require_getSchemaFactory.getSchemaFactory;
exports.getSchemas = getSchemas;
Object.defineProperty(exports, 'isOptional', {
  enumerable: true,
  get: function () {
    return _kubb_oas.isOptional;
  }
});
//# sourceMappingURL=utils.cjs.map