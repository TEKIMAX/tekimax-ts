import { t as __name } from "./chunk-iVr_oF3V.js";
import { t as getSchemaFactory } from "./getSchemaFactory-DsoVRgxV.js";
import { n as getBanner, t as getFooter } from "./getFooter-PYWvz29J.js";
import transformers, { camelCase, isValidVarName } from "@kubb/core/transformers";
import { URLPath } from "@kubb/core/utils";
import { isOptional } from "@kubb/oas";

//#region src/utils/getComments.ts
function getComments(operation) {
	return [
		operation.getDescription() && `@description ${operation.getDescription()}`,
		operation.getSummary() && `@summary ${operation.getSummary()}`,
		operation.path && `{@link ${new URLPath(operation.path).URL}}`,
		operation.isDeprecated() && "@deprecated"
	].filter(Boolean).map((text) => transformers.trim(text)).filter(Boolean);
}

//#endregion
//#region src/utils/getParams.ts
/**
*
* @deprecated
* TODO move to operationManager hook
*/
function getASTParams(operationSchema, { typed = false, override } = {}) {
	if (!operationSchema || !operationSchema.schema.properties || !operationSchema.name) return [];
	const requiredFields = Array.isArray(operationSchema.schema.required) ? operationSchema.schema.required : [];
	return Object.entries(operationSchema.schema.properties).map(([name]) => {
		const data = {
			name,
			enabled: !!name,
			required: requiredFields.includes(name),
			type: typed ? `${operationSchema.name}["${name}"]` : void 0
		};
		return override ? override(data) : data;
	});
}
function getPathParams(operationSchema, options = {}) {
	return getASTParams(operationSchema, options).reduce((acc, curr) => {
		if (curr.name && curr.enabled) {
			let name = isValidVarName(curr.name) ? curr.name : camelCase(curr.name);
			if (options.casing === "camelcase") name = camelCase(name);
			acc[name] = {
				default: curr.default,
				type: curr.type,
				optional: !curr.required
			};
		}
		return acc;
	}, {});
}

//#endregion
//#region src/utils/getSchemas.ts
/**
* Collect schemas from OpenAPI components (schemas, responses, requestBodies)
* and return them in dependency order along with name mapping for collision resolution.
*
* This function is a wrapper around the oas.getSchemas() method for backward compatibility.
* New code should use oas.getSchemas() directly.
*
* @deprecated Use oas.getSchemas() instead
*/
function getSchemas({ oas, contentType, includes = [
	"schemas",
	"requestBodies",
	"responses"
], collisionDetection }) {
	return oas.getSchemas({
		contentType,
		includes,
		collisionDetection
	});
}

//#endregion
export { getBanner, getComments, getFooter, getPathParams, getSchemaFactory, getSchemas, isOptional };
//# sourceMappingURL=utils.js.map