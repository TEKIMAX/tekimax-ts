{"version":3,"sources":["../src/lib/find-schema-definition.ts","../src/utils.ts"],"sourcesContent":["import jsonpointer from 'jsonpointer';\n\n/**\n * Lookup a reference pointer within an OpenAPI definition and return the schema that it resolves\n * to.\n *\n * @param $ref Reference to look up a schema for.\n * @param definition OpenAPI definition to look for the `$ref` pointer in.\n */\n// biome-ignore lint/style/noDefaultExport: This is safe for now.\nexport default function findSchemaDefinition($ref: string, definition = {}): any {\n  let currRef = $ref.trim();\n  if (currRef === '') {\n    // If this ref is empty, don't bother trying to look for it.\n    return false;\n  }\n\n  if (currRef.startsWith('#')) {\n    // Decode URI fragment representation.\n    currRef = decodeURIComponent(currRef.substring(1));\n  } else {\n    throw new Error(`Could not find a definition for ${$ref}.`);\n  }\n\n  const current = jsonpointer.get(definition, currRef);\n  if (current === undefined) {\n    throw new Error(`Could not find a definition for ${$ref}.`);\n  }\n\n  return current;\n}\n","import findSchemaDefinition from './lib/find-schema-definition.js';\nimport { getParameterContentType } from './lib/get-parameter-content-type.js';\nimport matchesMimeType from './lib/matches-mimetype.js';\nimport { types as jsonSchemaTypes } from './operation/lib/get-parameters-as-json-schema.js';\n\nconst supportedMethods = ['get', 'put', 'post', 'delete', 'options', 'head', 'patch', 'trace'] as const;\n\nexport { findSchemaDefinition, getParameterContentType, jsonSchemaTypes, matchesMimeType, supportedMethods };\n"],"mappings":";AAAA,OAAO,iBAAiB;AAUT,SAAR,qBAAsC,MAAc,aAAa,CAAC,GAAQ;AAC/E,MAAI,UAAU,KAAK,KAAK;AACxB,MAAI,YAAY,IAAI;AAElB,WAAO;AAAA,EACT;AAEA,MAAI,QAAQ,WAAW,GAAG,GAAG;AAE3B,cAAU,mBAAmB,QAAQ,UAAU,CAAC,CAAC;AAAA,EACnD,OAAO;AACL,UAAM,IAAI,MAAM,mCAAmC,IAAI,GAAG;AAAA,EAC5D;AAEA,QAAM,UAAU,YAAY,IAAI,YAAY,OAAO;AACnD,MAAI,YAAY,QAAW;AACzB,UAAM,IAAI,MAAM,mCAAmC,IAAI,GAAG;AAAA,EAC5D;AAEA,SAAO;AACT;;;ACzBA,IAAM,mBAAmB,CAAC,OAAO,OAAO,QAAQ,UAAU,WAAW,QAAQ,SAAS,OAAO;","names":[]}